<!DOCTYPE html>



<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Get a CSR of the Graph &mdash; DHART 0.0.1 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-extend.css">
    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/plot_directive.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" >
    <link rel="search" title="Search" href="../../search.html" >
    <link rel="top" title="DHART 0.0.1 documentation" href="../../index.html" >
    <link rel="up" title="Generating a Graph" href="../graph_generator.html" >
    <link rel="next" title="Visualize the Graph" href="visualize.html" >
    <link rel="prev" title="Generate a Graph" href="generating.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="http://">Git</a></li>
	
        <li class="active"><a href="../../index.html">DHART 0.0.1 documentation</a></li>
	
          <li class="active"><a href="../../examples.html" >Examples</a></li>
          <li class="active"><a href="../graph_generator.html" accesskey="U">Generating a Graph</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="visualize.html" title="Visualize the Graph"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="generating.html" title="Generate a Graph"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <section id="module-dhart.Examples.GraphToCSR">
<span id="get-a-csr-of-the-graph"></span><h1>Get a CSR of the Graph<a class="headerlink" href="#module-dhart.Examples.GraphToCSR" title="Permalink to this heading">Â¶</a></h1>
<p>In this example we generate a graph on a plane and print out the graph as a CSR matrix
consisting of the node ides and the edge cost (which is distance in this case).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dhart.geometry</span> <span class="kn">import</span> <span class="n">LoadOBJ</span><span class="p">,</span> <span class="n">CommonRotations</span>
<span class="kn">from</span> <span class="nn">dhart.raytracer</span> <span class="kn">import</span> <span class="n">EmbreeBVH</span>
<span class="kn">from</span> <span class="nn">dhart.graphgenerator</span> <span class="kn">import</span> <span class="n">GenerateGraph</span>
<span class="kn">import</span> <span class="nn">dhart</span>

<span class="n">obj_path</span> <span class="o">=</span> <span class="n">dhart</span><span class="o">.</span><span class="n">get_sample_model</span><span class="p">(</span><span class="s2">&quot;plane.obj&quot;</span><span class="p">)</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">LoadOBJ</span><span class="p">(</span><span class="n">obj_path</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="n">CommonRotations</span><span class="o">.</span><span class="n">Yup_to_Zup</span><span class="p">)</span>
<span class="n">bvh</span> <span class="o">=</span> <span class="n">EmbreeBVH</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

<span class="n">start_point</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mf">1623.976928</span><span class="p">)</span>

<span class="n">spacing</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">max_nodes</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">GenerateGraph</span><span class="p">(</span><span class="n">bvh</span><span class="p">,</span> <span class="n">start_point</span><span class="p">,</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">max_nodes</span><span class="p">,</span> <span class="n">cores</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">csr_graph</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">CompressToCSR</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">csr_graph</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(0, 1)    0.70710677
(0, 2)    0.5
(0, 3)    0.70710677
(0, 4)    0.5
(0, 5)    0.5
(0, 6)    0.70710677
(0, 7)    0.5
(0, 8)    0.70710677
(1, 0)    0.70710677
(1, 2)    0.5
(1, 4)    0.5
(1, 9)    0.70710677
(1, 10)   0.5
(1, 11)   0.70710677
(1, 12)   0.5
(1, 13)   0.70710677
(2, 0)    0.5
(2, 1)    0.5
(2, 3)    0.5
(2, 4)    0.70710677
(2, 5)    0.70710677
(2, 10)   0.70710677
(2, 11)   0.5
(2, 14)   0.70710677
(3, 0)    0.70710677
(3, 2)    0.5
(3, 5)    0.5
(3, 11)   0.70710677
(3, 14)   0.5
(3, 15)   0.70710677
(3, 16)   0.5
(3, 17)   0.70710677
(4, 0)    0.5
(4, 1)    0.5
(4, 2)    0.70710677
(4, 6)    0.5
(4, 7)    0.70710677
(4, 12)   0.70710677
(4, 13)   0.5
(4, 18)   0.70710677
</pre></div>
</div>
</section>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="generating.html"
                          title="previous chapter">Generate a Graph</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="visualize.html"
                          title="next chapter">Visualize the Graph</a></p>
  </div>

        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2020.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 7.0.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>