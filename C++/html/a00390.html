<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DHART: Pathfinding</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome-css.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DHART
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('a00390.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Pathfinding</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3dc85450e989a996a3c3fcfad0a5944e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00390.html#ga3dc85450e989a996a3c3fcfad0a5944e">CreatePath</a> (const <a class="el" href="a01485.html">HF::SpatialStructures::Graph</a> *g, int start, int end, const char *cost_type, int *out_size, <a class="el" href="a02017.html">HF::SpatialStructures::Path</a> **out_path, <a class="el" href="a02013.html">HF::SpatialStructures::PathMember</a> **out_data)</td></tr>
<tr class="memdesc:ga3dc85450e989a996a3c3fcfad0a5944e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the shortest path from start to end.  <a href="a00390.html#ga3dc85450e989a996a3c3fcfad0a5944e">More...</a><br /></td></tr>
<tr class="separator:ga3dc85450e989a996a3c3fcfad0a5944e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1ac2805c3b86883bb88269ed3868367"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00390.html#gae1ac2805c3b86883bb88269ed3868367">CreatePaths</a> (const <a class="el" href="a01485.html">HF::SpatialStructures::Graph</a> *g, const int *start, const int *end, const char *cost_type, <a class="el" href="a02017.html">HF::SpatialStructures::Path</a> **out_path_ptr_holder, <a class="el" href="a02013.html">HF::SpatialStructures::PathMember</a> **out_path_member_ptr_holder, int *out_sizes, int num_paths)</td></tr>
<tr class="memdesc:gae1ac2805c3b86883bb88269ed3868367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find multiple shortest paths in paralllel.  <a href="a00390.html#gae1ac2805c3b86883bb88269ed3868367">More...</a><br /></td></tr>
<tr class="separator:gae1ac2805c3b86883bb88269ed3868367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac725d282f4fecd3aba1b3273c26e7e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00390.html#gaac725d282f4fecd3aba1b3273c26e7e1">GetPathInfo</a> (<a class="el" href="a02017.html">HF::SpatialStructures::Path</a> *p, <a class="el" href="a02013.html">HF::SpatialStructures::PathMember</a> **out_member_ptr, int *out_size)</td></tr>
<tr class="memdesc:gaac725d282f4fecd3aba1b3273c26e7e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of a path and a pointer to its path members.  <a href="a00390.html#gaac725d282f4fecd3aba1b3273c26e7e1">More...</a><br /></td></tr>
<tr class="separator:gaac725d282f4fecd3aba1b3273c26e7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga884a3374d971261a01ccfd3b21e288e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a> (<a class="el" href="a02017.html">HF::SpatialStructures::Path</a> *path_to_destroy)</td></tr>
<tr class="memdesc:ga884a3374d971261a01ccfd3b21e288e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a path.  <a href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">More...</a><br /></td></tr>
<tr class="separator:ga884a3374d971261a01ccfd3b21e288e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba6ec6ce84974dd6a311d7d65dd34221"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00390.html#gaba6ec6ce84974dd6a311d7d65dd34221">CreateAllToAllPaths</a> (const <a class="el" href="a01485.html">HF::SpatialStructures::Graph</a> *g, const char *cost_type, <a class="el" href="a02017.html">HF::SpatialStructures::Path</a> **out_path_ptr_holder, <a class="el" href="a02013.html">HF::SpatialStructures::PathMember</a> **out_path_member_ptr_holder, int *out_sizes, int num_paths)</td></tr>
<tr class="memdesc:gaba6ec6ce84974dd6a311d7d65dd34221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a path from every node in a graph to every other node.  <a href="a00390.html#gaba6ec6ce84974dd6a311d7d65dd34221">More...</a><br /></td></tr>
<tr class="separator:gaba6ec6ce84974dd6a311d7d65dd34221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27b1f45019ccbda909301520d1c738ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00390.html#ga27b1f45019ccbda909301520d1c738ca">CalculateDistanceAndPredecessor</a> (const <a class="el" href="a01485.html">HF::SpatialStructures::Graph</a> *g, const char *cost_name, std::vector&lt; float &gt; **out_dist_vector, float **out_dist_data, std::vector&lt; int &gt; **out_pred_vector, int **out_pred_data)</td></tr>
<tr class="memdesc:ga27b1f45019ccbda909301520d1c738ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the distance and predecessor matricies for a graph.  <a href="a00390.html#ga27b1f45019ccbda909301520d1c738ca">More...</a><br /></td></tr>
<tr class="separator:ga27b1f45019ccbda909301520d1c738ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Find paths between different points in a graph.</p>
<h1><a class="anchor" id="mesh_setup_energy_blob"></a>
Mesh setup (energy blob)</h1>
<p >Begin by loading an .obj file:<br  />
</p>
<div class="fragment"><div class="line"><span class="comment">// Status code variable, value returned by C Interface functions</span></div>
<div class="line"><span class="comment">// See documentation for HF::Exceptions::HF_STATUS for error code definitions.</span></div>
<div class="line"><span class="keywordtype">int</span> status = 0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get model path</span></div>
<div class="line"><span class="comment">// This is a relative path to your obj file.</span></div>
<div class="line"><span class="keyword">const</span> std::string obj_path_str = <span class="stringliteral">&quot;energy_blob_zup.obj&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Size of obj file string (character count)</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> obj_length = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(obj_path_str.size());</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This will point to memory on free store.</span></div>
<div class="line"><span class="comment">// The memory will be allocated inside the LoadOBJ function,</span></div>
<div class="line"><span class="comment">// and it must be freed using DestroyMeshInfo.</span></div>
<div class="line">std::vector&lt;HF::Geometry::MeshInfo&gt;* loaded_obj = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Load mesh.</span></div>
<div class="line"><span class="comment">// Notice that we pass the address of the loaded_obj pointer</span></div>
<div class="line"><span class="comment">// to LoadOBJ. We do not want to pass loaded_obj by value, but by address --</span></div>
<div class="line"><span class="comment">// so that we can dereference it and assign it to the address of (pointer to)</span></div>
<div class="line"><span class="comment">// the free store memory allocated within LoadOBJ.</span></div>
<div class="line"><span class="keyword">const</span> std::array&lt;float, 3&gt; rot { 0.0f, 0.0f, 0.0f };    <span class="comment">// No rotation.</span></div>
<div class="line">status = <a class="code hl_function" href="a00389.html#ga0805e80d13b29aeddc35f0bcf3f16a1a">LoadOBJ</a>(obj_path_str.c_str(), obj_length, rot[0], rot[1], rot[2], &amp;loaded_obj);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">    <span class="comment">// All C Interface functions return a status code.</span></div>
<div class="line">    <span class="comment">// Error!</span></div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at LoadOBJ, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;LoadOBJ loaded mesh successfully into loaded_obj at address &quot;</span> &lt;&lt; loaded_obj &lt;&lt; <span class="stringliteral">&quot;, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="aa00389_html_ga0805e80d13b29aeddc35f0bcf3f16a1a"><div class="ttname"><a href="a00389.html#ga0805e80d13b29aeddc35f0bcf3f16a1a">LoadOBJ</a></div><div class="ttdeci">C_INTERFACE LoadOBJ(const char *obj_path, HF::Geometry::GROUP_METHOD gm, float xrot, float yrot, float zrot, MeshInfo&lt; float &gt; ***out_data_array, int *num_meshes)</div><div class="ttdoc">Load an obj from the given path then rotate it by x,y, and z.</div><div class="ttdef"><b>Definition:</b> <a href="a00350_source.html#l00013">objloader_C.cpp:13</a></div></div>
</div><!-- fragment --><p >Then, review the example at <a class="el" href="a00391.html#raytracer_setup">Raytracer setup</a> (how to create a BVH).<br  />
</p>
<h1><a class="anchor" id="generate_graph"></a>
Graph generation</h1>
<p >You will then generate a graph, using the BVH:<br  />
</p>
<div class="fragment"><div class="line"><span class="comment">// Define start point.</span></div>
<div class="line"><span class="comment">// These are Cartesian coordinates.</span></div>
<div class="line"><span class="comment">// If not above solid ground, no nodes will be generated.</span></div>
<div class="line"><span class="keyword">const</span> std::array&lt;float, 3&gt; start_point{ -30.0f, 0.0f, 20.0f };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Define spacing.</span></div>
<div class="line"><span class="comment">// This is the spacing between nodes, with respect to each axis.</span></div>
<div class="line"><span class="comment">// Lower values create more nodes, yielding a higher resolution graph.</span></div>
<div class="line"><span class="keyword">const</span> std::array&lt;float, 3&gt; spacing{ 2.0f, 2.0f, 180.0f };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Value of - 1 will generate infinitely many nodes.</span></div>
<div class="line"><span class="comment">// Final node count may be greater than this value.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> max_nodes = 5000;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> up_step = 30;                 <span class="comment">// Maximum step height the graph can traverse.</span></div>
<div class="line">                                        <span class="comment">// Steps steeper than this are considered to be inaccessible.</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> down_step = 70;               <span class="comment">// Maximum step down the graph can traverse.</span></div>
<div class="line">                                        <span class="comment">// Steps steeper than this are considered to be inaccessible.</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> up_slope = 60;                <span class="comment">// Maximum upward slope the graph can traverse (in degrees).</span></div>
<div class="line">                                        <span class="comment">// Slopes steeper than this are considered to be inaccessible.</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> down_slope = 60;              <span class="comment">// Maximum downward slope the graph can traverse (in degrees).</span></div>
<div class="line">                                        <span class="comment">// Slopes steeper than this are considered to be inaccessible.</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> max_step_connections = 1;     <span class="comment">// Multiplier for number of children to generate for each node.</span></div>
<div class="line">                                        <span class="comment">// Increasing this value increases the number of edges in the graph,</span></div>
<div class="line">                                        <span class="comment">// therefore increasing the memory footprint of the algorithm overall.</span></div>
<div class="line">    </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> min_connections = 1;          <span class="comment">// The required out-degree for a node to be valid and stored.</span></div>
<div class="line">                                        <span class="comment">// This must be greater than 0 and equal or less than the total connections created from max_step_connections.</span></div>
<div class="line">                                        <span class="comment">// Default is 1. A value of 8 when max_step_connections=1 would be a grid.</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> core_count = -1;              <span class="comment">// CPU core count. A value of (-1) will use all available cores.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Generate graph.</span></div>
<div class="line"><span class="comment">// Notice that we pass the address of the graph pointer into GenerateGraph.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// GenerateGraph will assign the deferenced address to a pointer that points</span></div>
<div class="line"><span class="comment">// to memory on the free store. We will call DestroyGraph to release the memory resources later on.</span></div>
<div class="line"><a class="code hl_class" href="a01485.html">HF::SpatialStructures::Graph</a>* graph = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">status = <a class="code hl_function" href="a00388.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a>(bvh, start_point.data(), spacing.data(), max_nodes,</div>
<div class="line">    up_step, down_step, up_slope, down_slope,</div>
<div class="line">    max_step_connections, min_connections, core_count, &amp;graph);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at GenerateGraph, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Generate graph ran successfully - graph stored at address &quot;</span> &lt;&lt; graph &lt;&lt; <span class="stringliteral">&quot;, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Always compress the graph after generating a graph/adding new edges</span></div>
<div class="line">status = <a class="code hl_function" href="a00392.html#gab7ecc1be5c746ed3f99ab7494316c65d">Compress</a>(graph);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">    <span class="comment">// Error!</span></div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at Compress, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="aa00388_html_ga2df84a732d1edfb70b7bd26d3282e129"><div class="ttname"><a href="a00388.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a></div><div class="ttdeci">C_INTERFACE GenerateGraph(HF::RayTracer::EmbreeRayTracer *ray_tracer, const float *start_point, const float *spacing, int MaxNodes, float UpStep, float UpSlope, float DownStep, float DownSlope, int max_step_connections, int min_connections, int core_count, Graph **out_graph)</div><div class="ttdoc">Construct a graph by performing a breadth-first search of accessible space.</div><div class="ttdef"><b>Definition:</b> <a href="a00338_source.html#l00022">analysis_C.cpp:22</a></div></div>
<div class="ttc" id="aa00392_html_gab7ecc1be5c746ed3f99ab7494316c65d"><div class="ttname"><a href="a00392.html#gab7ecc1be5c746ed3f99ab7494316c65d">Compress</a></div><div class="ttdeci">C_INTERFACE Compress(Graph *graph)</div><div class="ttdoc">Compress the given graph into a CSR representation.</div><div class="ttdef"><b>Definition:</b> <a href="a00368_source.html#l00228">spatialstructures_C.cpp:228</a></div></div>
<div class="ttc" id="aa01485_html"><div class="ttname"><a href="a01485.html">HF::SpatialStructures::Graph</a></div><div class="ttdoc">A Graph of nodes connected by edges that supports both integers and HF::SpatialStructures::Node.</div><div class="ttdef"><b>Definition:</b> <a href="a00203_source.html#l00486">graph.h:486</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="get_all_nodes"></a>
Get nodes from graph</h1>
<p >You can retrieve the nodes from the generated graph like this:<br  />
</p>
<div class="fragment"><div class="line"><span class="comment">// Get nodes.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// The address of the local variable node_vector will be passed to GetAllNodesFromGraph;</span></div>
<div class="line"><span class="comment">// it will be dereferenced inside that function and assigned memory via operator new.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// We will have to call DestroyNodes on node_vector to properly release this memory.</span></div>
<div class="line"><span class="comment">// node_vector_data points to the internal buffer that resides within *(node_vector).</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// When we call DestroyNodes, node_vector_data&#39;s memory will also be released.</span></div>
<div class="line">std::vector&lt;HF::SpatialStructures::Node&gt;* node_vector = <span class="keyword">nullptr</span>;</div>
<div class="line"><a class="code hl_struct" href="a02005.html">HF::SpatialStructures::Node</a>* node_vector_data = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">status = <a class="code hl_function" href="a00392.html#ga0cc5b82caab046c65a201e4e7be5e9d4">GetAllNodesFromGraph</a>(graph, &amp;node_vector, &amp;node_vector_data);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">    <span class="comment">// Error!</span></div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at GetAllNodesFromGraph, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get size of node vector</span></div>
<div class="line"><span class="keywordtype">int</span> node_vector_size = -1;</div>
<div class="line">status = <a class="code hl_function" href="a00392.html#gac17c1fc05e6bf6900bac8689b7619bfb">GetSizeOfNodeVector</a>(node_vector, &amp;node_vector_size);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">    <span class="comment">// Error!</span></div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at GetSizeOfNodeVector code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print number of nodes in the graph</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> max_node = node_vector_size - 1;  <span class="comment">// This is the max index of *node_vector</span></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Graph Generated with &quot;</span> &lt;&lt; node_vector_size &lt;&lt; <span class="stringliteral">&quot; nodes&quot;</span> &lt;&lt; std::endl;</div>
<div class="ttc" id="aa00392_html_ga0cc5b82caab046c65a201e4e7be5e9d4"><div class="ttname"><a href="a00392.html#ga0cc5b82caab046c65a201e4e7be5e9d4">GetAllNodesFromGraph</a></div><div class="ttdeci">C_INTERFACE GetAllNodesFromGraph(const Graph *graph, vector&lt; Node &gt; **out_vector_ptr, Node **out_data_ptr)</div><div class="ttdoc">Get a vector of every node in the given graph pointer.</div><div class="ttdef"><b>Definition:</b> <a href="a00368_source.html#l00032">spatialstructures_C.cpp:32</a></div></div>
<div class="ttc" id="aa00392_html_gac17c1fc05e6bf6900bac8689b7619bfb"><div class="ttname"><a href="a00392.html#gac17c1fc05e6bf6900bac8689b7619bfb">GetSizeOfNodeVector</a></div><div class="ttdeci">C_INTERFACE GetSizeOfNodeVector(const std::vector&lt; HF::SpatialStructures::Node &gt; *node_list, int *out_size)</div><div class="ttdoc">Get the size of a node vector.</div><div class="ttdef"><b>Definition:</b> <a href="a00179_source.html#l00060">CInterface.cpp:60</a></div></div>
<div class="ttc" id="aa02005_html"><div class="ttname"><a href="a02005.html">HF::SpatialStructures::Node</a></div><div class="ttdoc">A point in space with an ID.</div><div class="ttdef"><b>Definition:</b> <a href="a00209_source.html#l00038">node.h:38</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="nodes_teardown"></a>
Destroy nodes from graph</h1>
<p >When you are finished with the graph node container, you must destroy it:<br  />
</p>
<div class="fragment"><div class="line"><span class="comment">// destroy vector&lt;Node&gt;</span></div>
<div class="line">status = <a class="code hl_function" href="a00392.html#ga87e9b9ecfc5293712d75f3cb8c992c77">DestroyNodes</a>(node_vector);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at DestroyNodes, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="aa00392_html_ga87e9b9ecfc5293712d75f3cb8c992c77"><div class="ttname"><a href="a00392.html#ga87e9b9ecfc5293712d75f3cb8c992c77">DestroyNodes</a></div><div class="ttdeci">C_INTERFACE DestroyNodes(std::vector&lt; HF::SpatialStructures::Node &gt; *nodelist_to_destroy)</div><div class="ttdoc">Delete the vector of nodes at the given pointer.</div><div class="ttdef"><b>Definition:</b> <a href="a00179_source.html#l00070">CInterface.cpp:70</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="graph_teardown"></a>
Destroy graph</h1>
<p >When you are finished with the graph, you must destroy it:<br  />
</p>
<div class="fragment"><div class="line"><span class="comment">// destroy graph</span></div>
<div class="line">status = <a class="code hl_function" href="a00392.html#ga645abacd11e1fa535f953344aaa77727">DestroyGraph</a>(graph);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at DestroyGraph, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="aa00392_html_ga645abacd11e1fa535f953344aaa77727"><div class="ttname"><a href="a00392.html#ga645abacd11e1fa535f953344aaa77727">DestroyGraph</a></div><div class="ttdeci">C_INTERFACE DestroyGraph(HF::SpatialStructures::Graph *graph_to_destroy)</div><div class="ttdoc">Delete a graph.</div><div class="ttdef"><b>Definition:</b> <a href="a00179_source.html#l00080">CInterface.cpp:80</a></div></div>
</div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a id="ga27b1f45019ccbda909301520d1c738ca" name="ga27b1f45019ccbda909301520d1c738ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27b1f45019ccbda909301520d1c738ca">&#9670;&#160;</a></span>CalculateDistanceAndPredecessor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a> CalculateDistanceAndPredecessor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01485.html">HF::SpatialStructures::Graph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cost_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; **&#160;</td>
          <td class="paramname"><em>out_dist_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float **&#160;</td>
          <td class="paramname"><em>out_dist_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; **&#160;</td>
          <td class="paramname"><em>out_pred_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>out_pred_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="a00359.html">Cinterface/pathfinder_C.h</a>&gt;</code></p>

<p>Calculate the distance and predecessor matricies for a graph. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>The graph calculate the distance and predecessor matricies for</td></tr>
    <tr><td class="paramname">cost_name</td><td>The name of the cost type to use for generating paths. Leaving as an empty string will use the default cost of <code>g</code>.</td></tr>
    <tr><td class="paramname">out_dist_vector</td><td>Pointer to be updated with a vector containing the distance matrix </td></tr>
    <tr><td class="paramname">out_dist_data</td><td>Pointer to be updated with a pointer to the data contained by <code>out_dist_vector</code></td></tr>
    <tr><td class="paramname">out_pred_vector</td><td>Pointer to be updated with the vector containing the predecessor matrix. </td></tr>
    <tr><td class="paramname">out_pred_data</td><td>Pointer to be updated with the data of <code>out_pred_vector</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>HF_STATUS::OK</code> If the function completed successfully. </dd>
<dd>
<code>HF_STATUS::NO_COST</code> If <code>cost type</code> was not the key of any existing cost type in the graph.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>1) <code>out_dist_vector</code> is updated to contain a pointer to the newly created distance matrix </dd>
<dd>
2) <code>out_dist_data</code> is updated to contain a pointer to the data of <code>out_dist_vector</code> </dd>
<dd>
3) <code>out_pred_vector</code> is updated to contain a pointer to the newly created predecessor matrix </dd>
<dd>
4) <code>out_pred_data</code> is updated to contain a pointer to the data of <code>out_pred_vector</code></dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>It is the caller's responsibility to deallocate the distance and predecessor matricies by calling DestroyIntVector and DestroyFloatVector. Failing to do so WILL leak memory. Do NOT attempt to delete the data arrays, they will automatically be deleted when their vectors are deleted.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00391.html#raytracer_setup">Raytracer setup</a> (how to create a BVH), <a class="el" href="a00391.html#raytracer_teardown">Raytracer teardown</a> (how to destroy a BVH) </dd>
<dd>
<a class="el" href="a00344.html#af77723a4383b278169e80cf0e361ec44">DestroyFloatVector</a> </dd>
<dd>
<a class="el" href="a00344.html#aa1d3e9d7be8628eb59f2ef8f8e156a75">DestroyIntVector</a> </dd>
<dd>
<a class="el" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a> for information on deleting the path after usage.</dd></dl>
<p>Begin by reviewing the example at <a class="el" href="a00391.html#raytracer_setup">Raytracer setup</a> to load an .obj file (mesh), and create a BVH from the mesh.<br  />
 Then generate a graph (<a class="el" href="a00390.html#generate_graph">Graph generation</a>) from the BVH &ndash; see <a class="el" href="a00390.html#get_all_nodes">Get nodes from graph</a> on how to retrieve nodes from the graph.<br  />
</p>
<dl class="section user"><dt>Example</dt><dd></dd></dl>
<p>Create a graph, add some edges &ndash; then invoke <a class="el" href="a00390.html#ga27b1f45019ccbda909301520d1c738ca">CalculateDistanceAndPredecessor</a> <br  />
 </p><div class="fragment"><div class="line">    <span class="comment">// Create a graph</span></div>
<div class="line">    Graph * g;</div>
<div class="line">    <a class="code hl_function" href="a00392.html#ga262a8f714fbd8d74840efa5832597fff">CreateGraph</a>(NULL, -1, &amp;g);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create some nodes and add edges to the graph</span></div>
<div class="line">    vector&lt;vector&lt;float&gt;&gt; nodes = {</div>
<div class="line">        {1, 2, 3}, {4, 5, 6}, {7, 8, 9}, {10, 1, 2}</div>
<div class="line">    };</div>
<div class="line">    <a class="code hl_function" href="a00392.html#ga43f715ce7f57fb92e78f8f6e90b84baf">AddEdgeFromNodes</a>(g, nodes[0].data(), nodes[1].data(), 10, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    <a class="code hl_function" href="a00392.html#ga43f715ce7f57fb92e78f8f6e90b84baf">AddEdgeFromNodes</a>(g, nodes[1].data(), nodes[2].data(), 20, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    <a class="code hl_function" href="a00392.html#ga43f715ce7f57fb92e78f8f6e90b84baf">AddEdgeFromNodes</a>(g, nodes[0].data(), nodes[2].data(), 5, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    <a class="code hl_function" href="a00392.html#ga43f715ce7f57fb92e78f8f6e90b84baf">AddEdgeFromNodes</a>(g, nodes[1].data(), nodes[0].data(), 10, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    <a class="code hl_function" href="a00392.html#gab7ecc1be5c746ed3f99ab7494316c65d">Compress</a>(g);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Create output parameters</span></div>
<div class="line">    std::vector&lt;float&gt;* dist_vector; std::vector&lt;int&gt;* pred_vector;</div>
<div class="line">    <span class="keywordtype">float</span>* dist_data; <span class="keywordtype">int</span>* pred_data;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Call into the new function</span></div>
<div class="line">    <span class="keyword">auto</span> status = <a class="code hl_function" href="a00390.html#ga27b1f45019ccbda909301520d1c738ca">CalculateDistanceAndPredecessor</a>(g,<span class="stringliteral">&quot;&quot;</span>, &amp;dist_vector, &amp;dist_data, &amp;pred_vector, &amp;pred_data);</div>
<div class="line">        </div>
<div class="ttc" id="aa00390_html_ga27b1f45019ccbda909301520d1c738ca"><div class="ttname"><a href="a00390.html#ga27b1f45019ccbda909301520d1c738ca">CalculateDistanceAndPredecessor</a></div><div class="ttdeci">C_INTERFACE CalculateDistanceAndPredecessor(const Graph *g, const char *cost_name, vector&lt; float &gt; **out_dist_vector, float **out_dist_data, vector&lt; int &gt; **out_pred_vector, int **out_pred_data)</div><div class="ttdoc">Calculate the distance and predecessor matricies for a graph.</div><div class="ttdef"><b>Definition:</b> <a href="a00356_source.html#l00171">pathfinder_C.cpp:171</a></div></div>
<div class="ttc" id="aa00392_html_ga262a8f714fbd8d74840efa5832597fff"><div class="ttname"><a href="a00392.html#ga262a8f714fbd8d74840efa5832597fff">CreateGraph</a></div><div class="ttdeci">C_INTERFACE CreateGraph(const float *nodes, int num_nodes, Graph **out_graph)</div><div class="ttdoc">Create a new empty graph.</div><div class="ttdef"><b>Definition:</b> <a href="a00368_source.html#l00124">spatialstructures_C.cpp:124</a></div></div>
<div class="ttc" id="aa00392_html_ga43f715ce7f57fb92e78f8f6e90b84baf"><div class="ttname"><a href="a00392.html#ga43f715ce7f57fb92e78f8f6e90b84baf">AddEdgeFromNodes</a></div><div class="ttdeci">C_INTERFACE AddEdgeFromNodes(Graph *graph, const float *parent, const float *child, float score, const char *cost_type)</div><div class="ttdoc">Add an edge between parent and child. If parent or child does not already exist in the graph,...</div><div class="ttdef"><b>Definition:</b> <a href="a00368_source.html#l00135">spatialstructures_C.cpp:135</a></div></div>
</div><!-- fragment --><p >Print the result:<br  />
 </p><div class="fragment"><div class="line">    </div>
<div class="line">    <span class="comment">// Print both matricies</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> array_length = dist_vector-&gt;size();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Distance Matrix: [&quot;</span>;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; array_length; i++)</div>
<div class="line">        std::cout &lt;&lt; dist_vector-&gt;at(i) &lt;&lt; (i ==  array_length - 1 ? <span class="stringliteral">&quot;]\r\nPredecessor Mattrix: [&quot;</span> : <span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; array_length; i++)</div>
<div class="line">        std::cout &lt;&lt; pred_vector-&gt;at(i) &lt;&lt; (i == array_length - 1 ? <span class="stringliteral">&quot;]\r\n&quot;</span> : <span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Cleanup memory</span></div>
<div class="line">    <a class="code hl_function" href="a00344.html#aa1d3e9d7be8628eb59f2ef8f8e156a75">DestroyIntVector</a>(pred_vector);</div>
<div class="line">    <a class="code hl_function" href="a00344.html#af77723a4383b278169e80cf0e361ec44">DestroyFloatVector</a>(dist_vector);</div>
<div class="line"> </div>
<div class="ttc" id="aa00344_html_aa1d3e9d7be8628eb59f2ef8f8e156a75"><div class="ttname"><a href="a00344.html#aa1d3e9d7be8628eb59f2ef8f8e156a75">DestroyIntVector</a></div><div class="ttdeci">C_INTERFACE DestroyIntVector(std::vector&lt; int &gt; *int_vector)</div><div class="ttdoc">Delete a vector of integers.</div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00033">cinterface_utils.cpp:33</a></div></div>
<div class="ttc" id="aa00344_html_af77723a4383b278169e80cf0e361ec44"><div class="ttname"><a href="a00344.html#af77723a4383b278169e80cf0e361ec44">DestroyFloatVector</a></div><div class="ttdeci">C_INTERFACE DestroyFloatVector(std::vector&lt; float &gt; *float_vector)</div><div class="ttdoc">Delete a float vector that's pointed to by float_vector</div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00027">cinterface_utils.cpp:27</a></div></div>
</div><!-- fragment --><p ><br  />
 <code>&gt;&gt;&gt; Distance Matrix: [0.000000, 10.000000, 5.000000, 10.000000, 0.000000, 15.000000, -1.000000, -1.000000, 0.000000]</code><br  />
<code>&gt;&gt;&gt; Predecessor Matrix: [0, 0, 0, 1, 1, 0, -1, -1, 2]\n</code> </p>

<p class="definition">Definition at line <a class="el" href="a00356_source.html#l00171">171</a> of file <a class="el" href="a00356_source.html">pathfinder_C.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00137_source.html#l00320">HF::Pathfinding::CreateBoostGraph()</a>, <a class="el" href="a00140_source.html#l00410">HF::Pathfinding::DistanceAndPredecessor::dist</a>, <a class="el" href="a00137_source.html#l00267">HF::Pathfinding::GenerateDistanceAndPred()</a>, and <a class="el" href="a00140_source.html#l00411">HF::Pathfinding::DistanceAndPredecessor::pred</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00390_ga27b1f45019ccbda909301520d1c738ca_cgraph.svg" width="732" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="gaba6ec6ce84974dd6a311d7d65dd34221" name="gaba6ec6ce84974dd6a311d7d65dd34221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba6ec6ce84974dd6a311d7d65dd34221">&#9670;&#160;</a></span>CreateAllToAllPaths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a> CreateAllToAllPaths </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01485.html">HF::SpatialStructures::Graph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cost_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02017.html">HF::SpatialStructures::Path</a> **&#160;</td>
          <td class="paramname"><em>out_path_ptr_holder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02013.html">HF::SpatialStructures::PathMember</a> **&#160;</td>
          <td class="paramname"><em>out_path_member_ptr_holder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>out_sizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_paths</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="a00359.html">Cinterface/pathfinder_C.h</a>&gt;</code></p>

<p>Find a path from every node in a graph to every other node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>The graph to conduct the search on nodes that already exist within the graph.</td></tr>
    <tr><td class="paramname">cost_name</td><td>The name of the cost type to use for generating paths. Leaving as an empty string will use the default cost of <code>g</code>.</td></tr>
    <tr><td class="paramname">out_size</td><td>An empty array of integers that will be updated to contain the length of every path in <code>path_members</code>. Paths that could not be generated will be left with a length of zero.</td></tr>
    <tr><td class="paramname">out_path</td><td>Location for the the path pointer array to be created. Paths that could not be generated will be left as null pointers.</td></tr>
    <tr><td class="paramname">out_data</td><td>Location for the pathmember pointer array to be created. All path member pointers will point to the PathMembers of the Path in paths at the same index. Paths that could not be generated will be left as null pointers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>HF_STATUS::OK</code> The completed successfully and all postconditions were fulfilled. </dd>
<dd>
<code>HF_STATUS::NO_COST</code> <code>cost_name</code> is not a valid cost type name</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>If <code>cost_type</code> is specified, <code>cost_type</code> must be the the key of an already existing cost in <code>g</code></dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>1) <code>out_path_members</code> will point to a vector of pointers to vectors of PathMembers with an element for every path. Paths that could not be generated will be set to null pointers. </dd>
<dd>
2) <code>out_paths</code> will point to a vector of pointers to paths with an element for every path. Paths that could not be generated will be set to null pointers. </dd>
<dd>
3) <code>out_sizes</code> will point to an array of integers containing the size of every path in <code>out_paths</code>. Paths that could not be generated will have a size of 0.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The caller is responsible for freeing all of the memory allocated in <code>out_paths</code>and <code>out_sizes</code>. The contents of <code>out_path_members</code> will automatically be deleted when the path they belong to is deleted. Do not try to manually delete <code>out_path_members</code> or the path that owns it will throw a null pointer exception when it is deleted.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00389.html#mesh_setup">Mesh setup</a> (how to load an .OBJ file/create a mesh) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_setup">Raytracer setup</a> (how to create a BVH) </dd>
<dd>
<a class="el" href="a00390.html#generate_graph">Graph generation</a> (how to generate a graph from a BVH) </dd>
<dd>
<a class="el" href="a00390.html#get_all_nodes">Get nodes from graph</a> (how to retrieve nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a> for information on deleting the path after usage. </dd>
<dd>
<a class="el" href="a00390.html#nodes_teardown">Destroy nodes from graph</a> (how to destroy nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#graph_teardown">Destroy graph</a> (how to destroy a graph) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_teardown">Raytracer teardown</a> (how to destroy a BVH) </dd>
<dd>
<a class="el" href="a00389.html#mesh_teardown">Mesh teardown</a> (how to destroy a mesh)</dd></dl>
<p>Now we are ready to invoke <a class="el" href="a00390.html#gaba6ec6ce84974dd6a311d7d65dd34221">CreateAllToAllPaths</a> . </p><div class="fragment"><div class="line">        <a class="code hl_class" href="a01485.html">HF::SpatialStructures::Graph</a> g;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Add the edges</span></div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(0, 1, 1);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(0, 2, 2);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(1, 3, 3);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(1, 4, 4);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(2, 4, 4);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(3, 5, 5);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(4, 6, 3);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(5, 6, 1);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Always compress the graph after adding edges</span></div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a41cece77d0eee98df39ecc6d3a366ec8">Compress</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create a BoostGraph (std::unique_ptr)</span></div>
<div class="line">        <span class="keyword">auto</span> bg = CreateBoostGraph(g);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Total paths is node_count ^ 2</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">size_t</span> node_count = g.<a class="code hl_function" href="a01485.html#aa70347b8a33b57c6f0a72d6eca4248d7">Nodes</a>().size();</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">size_t</span> path_count = node_count * node_count;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Buffer of (Path *). Each Path * must be freed using DestroyPath.</span></div>
<div class="line">        std::vector&lt;Path*&gt; out_paths(path_count);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Buffer of (PathMember *). These pointers address the vector&lt;PathMember&gt; buffers in all *p in out_paths. </span></div>
<div class="line">        std::vector&lt;PathMember*&gt; out_path_member(path_count);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Pointer to buffer of (int)</span></div>
<div class="line">        std::vector&lt;int&gt; sizes(path_count);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// The two loops for start_points and end_points</span></div>
<div class="line">        <span class="comment">// are just for the output.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keywordtype">int</span> curr_id = 0;</div>
<div class="line">        std::vector&lt;int&gt; start_points(path_count);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Populate the start points,</span></div>
<div class="line">        <span class="comment">// size will be (node_count)^2</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; node_count; i++) {</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; node_count; k++) {</div>
<div class="line">                start_points[curr_id++] = i;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        curr_id = 0;</div>
<div class="line"> </div>
<div class="line">        std::vector&lt;int&gt; end_points(path_count);</div>
<div class="line">        <span class="comment">// Populate the end points,</span></div>
<div class="line">        <span class="comment">// size will be (node_count)^2</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; node_count; i++) {</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; node_count; k++) {</div>
<div class="line">                end_points[curr_id++] = k;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="a00390.html#gaba6ec6ce84974dd6a311d7d65dd34221">CreateAllToAllPaths</a>(&amp;g, <span class="stringliteral">&quot;&quot;</span>, out_paths.data(), out_path_member.data(), sizes.data(), path_count);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> start_points_it = start_points.begin();</div>
<div class="line">        <span class="keyword">auto</span> end_points_it = end_points.begin();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : out_paths) {</div>
<div class="line">            <span class="keywordflow">if</span> (p) {</div>
<div class="line">                <span class="comment">// Always check if out_paths[i] is nonnull!</span></div>
<div class="line">                <span class="keywordtype">int</span> total_cost = 0;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Path from &quot;</span> &lt;&lt; *(start_points_it++) &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; *(end_points_it++) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keyword">auto</span> m : p-&gt;members) {</div>
<div class="line">                    total_cost += m.cost;</div>
<div class="line">                    std::cout &lt;&lt; <span class="stringliteral">&quot;node ID: &quot;</span> &lt;&lt; m.node &lt;&lt; <span class="stringliteral">&quot;\tcost &quot;</span> &lt;&lt; m.cost &lt;&lt; std::endl;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Total cost: &quot;</span> &lt;&lt; total_cost &lt;&lt; std::endl;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;--------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Resource cleanup</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : out_paths) {</div>
<div class="line">            <a class="code hl_function" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a>(p);</div>
<div class="line">            p = <span class="keyword">nullptr</span>;</div>
<div class="line">        }</div>
<div class="ttc" id="aa00390_html_ga884a3374d971261a01ccfd3b21e288e5"><div class="ttname"><a href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a></div><div class="ttdeci">C_INTERFACE DestroyPath(Path *path_to_destroy)</div><div class="ttdoc">Delete a path.</div><div class="ttdef"><b>Definition:</b> <a href="a00356_source.html#l00133">pathfinder_C.cpp:133</a></div></div>
<div class="ttc" id="aa00390_html_gaba6ec6ce84974dd6a311d7d65dd34221"><div class="ttname"><a href="a00390.html#gaba6ec6ce84974dd6a311d7d65dd34221">CreateAllToAllPaths</a></div><div class="ttdeci">C_INTERFACE CreateAllToAllPaths(const HF::SpatialStructures::Graph *g, const char *cost_type, HF::SpatialStructures::Path **out_path_ptr_holder, HF::SpatialStructures::PathMember **out_path_member_ptr_holder, int *out_sizes, int num_paths)</div><div class="ttdoc">Find a path from every node in a graph to every other node.</div><div class="ttdef"><b>Definition:</b> <a href="a00356_source.html#l00138">pathfinder_C.cpp:138</a></div></div>
<div class="ttc" id="aa01485_html_a37be5c12e488072dea7fa1c8c64346f7"><div class="ttname"><a href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">HF::SpatialStructures::Graph::addEdge</a></div><div class="ttdeci">void addEdge(const Node &amp;parent, const Node &amp;child, float score=1.0f, const std::string &amp;cost_type=&quot;&quot;)</div><div class="ttdoc">Add a new edge to the graph from parent to child.</div></div>
<div class="ttc" id="aa01485_html_a41cece77d0eee98df39ecc6d3a366ec8"><div class="ttname"><a href="a01485.html#a41cece77d0eee98df39ecc6d3a366ec8">HF::SpatialStructures::Graph::Compress</a></div><div class="ttdeci">void Compress()</div><div class="ttdoc">Compress the graph to a CSR and enable the usage of several functions.</div></div>
<div class="ttc" id="aa01485_html_aa70347b8a33b57c6f0a72d6eca4248d7"><div class="ttname"><a href="a01485.html#aa70347b8a33b57c6f0a72d6eca4248d7">HF::SpatialStructures::Graph::Nodes</a></div><div class="ttdeci">std::vector&lt; Node &gt; Nodes() const</div><div class="ttdoc">Get a list of nodes from the graph sorted by ID.</div></div>
</div><!-- fragment --><p ><br  />
 </p><div class="fragment"><div class="line">        Path from 0 to 1</div>
<div class="line">        node ID : 0      cost 1</div>
<div class="line">        node ID : 1      cost 0</div>
<div class="line">        Total cost : 1</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 0 to 2</div>
<div class="line">        node ID : 0      cost 2</div>
<div class="line">        node ID : 2      cost 0</div>
<div class="line">        Total cost : 2</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 0 to 3</div>
<div class="line">        node ID : 0      cost 1</div>
<div class="line">        node ID : 1      cost 3</div>
<div class="line">        node ID : 3      cost 0</div>
<div class="line">        Total cost : 4</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 0 to 4</div>
<div class="line">        node ID : 0      cost 1</div>
<div class="line">        node ID : 1      cost 4</div>
<div class="line">        node ID : 4      cost 0</div>
<div class="line">        Total cost : 5</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 0 to 5</div>
<div class="line">        node ID : 0      cost 1</div>
<div class="line">        node ID : 1      cost 3</div>
<div class="line">        node ID : 3      cost 5</div>
<div class="line">        node ID : 5      cost 0</div>
<div class="line">        Total cost : 9</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 0 to 6</div>
<div class="line">        node ID : 0      cost 1</div>
<div class="line">        node ID : 1      cost 4</div>
<div class="line">        node ID : 4      cost 3</div>
<div class="line">        node ID : 6      cost 0</div>
<div class="line">        Total cost : 8</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 1 to 3</div>
<div class="line">        node ID : 1      cost 3</div>
<div class="line">        node ID : 3      cost 0</div>
<div class="line">        Total cost : 3</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 1 to 4</div>
<div class="line">        node ID : 1      cost 4</div>
<div class="line">        node ID : 4      cost 0</div>
<div class="line">        Total cost : 4</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 1 to 5</div>
<div class="line">        node ID : 1      cost 3</div>
<div class="line">        node ID : 3      cost 5</div>
<div class="line">        node ID : 5      cost 0</div>
<div class="line">        Total cost : 8</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 1 to 6</div>
<div class="line">        node ID : 1      cost 4</div>
<div class="line">        node ID : 4      cost 3</div>
<div class="line">        node ID : 6      cost 0</div>
<div class="line">        Total cost : 7</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 2 to 4</div>
<div class="line">        node ID : 2      cost 4</div>
<div class="line">        node ID : 4      cost 0</div>
<div class="line">        Total cost : 4</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 2 to 6</div>
<div class="line">        node ID : 2      cost 4</div>
<div class="line">        node ID : 4      cost 3</div>
<div class="line">        node ID : 6      cost 0</div>
<div class="line">        Total cost : 7</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 3 to 5</div>
<div class="line">        node ID : 3      cost 5</div>
<div class="line">        node ID : 5      cost 0</div>
<div class="line">        Total cost : 5</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 3 to 6</div>
<div class="line">        node ID : 3      cost 5</div>
<div class="line">        node ID : 5      cost 1</div>
<div class="line">        node ID : 6      cost 0</div>
<div class="line">        Total cost : 6</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 4 to 6</div>
<div class="line">        node ID : 4      cost 3</div>
<div class="line">        node ID : 6      cost 0</div>
<div class="line">        Total cost : 3</div>
<div class="line">        --------------------------</div>
<div class="line">        Path from 5 to 6</div>
<div class="line">        node ID : 5      cost 1</div>
<div class="line">        node ID : 6      cost 0</div>
<div class="line">        Total cost : 1</div>
<div class="line">        --------------------------</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="a00356_source.html#l00138">138</a> of file <a class="el" href="a00356_source.html">pathfinder_C.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00137_source.html#l00320">HF::Pathfinding::CreateBoostGraph()</a>, and <a class="el" href="a00137_source.html#l00329">HF::Pathfinding::InsertAllToAllPathsIntoArray()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00390_gaba6ec6ce84974dd6a311d7d65dd34221_cgraph.svg" width="1063" height="232"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga3dc85450e989a996a3c3fcfad0a5944e" name="ga3dc85450e989a996a3c3fcfad0a5944e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3dc85450e989a996a3c3fcfad0a5944e">&#9670;&#160;</a></span>CreatePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a> CreatePath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01485.html">HF::SpatialStructures::Graph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cost_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>out_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02017.html">HF::SpatialStructures::Path</a> **&#160;</td>
          <td class="paramname"><em>out_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02013.html">HF::SpatialStructures::PathMember</a> **&#160;</td>
          <td class="paramname"><em>out_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="a00359.html">Cinterface/pathfinder_C.h</a>&gt;</code></p>

<p>Find the shortest path from start to end. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>The graph to conduct the search on. </td></tr>
    <tr><td class="paramname">start</td><td>Start node of the path. </td></tr>
    <tr><td class="paramname">end</td><td>End node of the path.</td></tr>
    <tr><td class="paramname">cost_name</td><td>The name of the cost in <code>g</code> to use for shortest path calculations. Set to an empty string to use the cost <code>g</code> was constructed with.</td></tr>
    <tr><td class="paramname">out_size</td><td>Updated to the length of the found path on success. Set to 0 if no path could be found. </td></tr>
    <tr><td class="paramname">out_path</td><td>Output parameter for a pointer to the generated path. Will be null if no path could be found </td></tr>
    <tr><td class="paramname">out_data</td><td>Output parameter for a pointer to the data of the generated path. Will be null if no path could be found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>HF_STATUS::OK</code> The function completed successfully. </dd>
<dd>
<code>HF_STATUS::NO_PATH</code> No path could be found </dd>
<dd>
<code>HF_STATUS::NO_COST</code> <code>cost_name</code> is not an empty string or the key of a cost that already exists in G</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>1) <code>start</code> and <code>end</code> contain both contain the Ids of nodes already in the graph </dd>
<dd>
2) If not set to the empty string, <code>cost_name</code> is the key to a valid cost type already defined in <code>g</code>.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>If <code>OK</code> is returned, a path between start and end was found and <code>out_size</code>, <code>out_path</code>, and <code>out_data</code>, are updated to contain the number of nodes in the path, a pointer to the path itself, and a pointer to the PathMembers it holds respectively.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The caller is responsible for deleting the path returned by out_path by calling DestroyPath if this function completes successfully. Freeing the memory for a path will also free the memory for its path members, so do not attempt to access its members after deletion.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00389.html#mesh_setup">Mesh setup</a> (how to load an .OBJ file/create a mesh) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_setup">Raytracer setup</a> (how to create a BVH) </dd>
<dd>
<a class="el" href="a00390.html#generate_graph">Graph generation</a> (how to generate a graph from a BVH) </dd>
<dd>
<a class="el" href="a00390.html#get_all_nodes">Get nodes from graph</a> (how to retrieve nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a> for information on deleting the path after usage. </dd>
<dd>
<a class="el" href="a00390.html#nodes_teardown">Destroy nodes from graph</a> (how to destroy nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#graph_teardown">Destroy graph</a> (how to destroy a graph) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_teardown">Raytracer teardown</a> (how to destroy a BVH) </dd>
<dd>
<a class="el" href="a00389.html#mesh_teardown">Mesh teardown</a> (how to destroy a mesh)</dd></dl>
<p>Begin by reviewing the example at <a class="el" href="a00391.html#raytracer_setup">Raytracer setup</a> to load an .obj file (mesh), and create a BVH from the mesh.<br  />
 Then generate a graph (<a class="el" href="a00390.html#generate_graph">Graph generation</a>) from the BVH &ndash; see <a class="el" href="a00390.html#get_all_nodes">Get nodes from graph</a> on how to retrieve nodes from the graph.<br  />
</p>
<p >Now we are ready to create a path. We will find the path from the first node to the last indexed node. <br  />
 </p><div class="fragment"><div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Call Dijkstra&#39;s Shortest Path Algorithm</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Retrieve the first ID and the last ID indexed in *node_vector.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> start_id = 0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> end_id = node_vector-&gt;size() - 1;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// empty string means to use the cost type that the graph was constructed with</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>* cost_type = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Will be set to the size of the found path. Output value of 0 means no path was constructed.</span></div>
<div class="line">        <span class="keywordtype">int</span> path_size = -1;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// If a path is found, path will address memory for a Path.</span></div>
<div class="line">        <span class="comment">// DestroyPath must be called on path when finished with use.</span></div>
<div class="line">        <a class="code hl_struct" href="a02017.html">HF::SpatialStructures::Path</a>* path = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Will address the underlying buffer of a member container within *path.</span></div>
<div class="line">        <span class="comment">// When DestroyPath is called on path, path_data will no longer be valid.</span></div>
<div class="line">        <span class="comment">// Likewise, if path remains null after attempting to create a path,</span></div>
<div class="line">        <span class="comment">// path_data will also be null.</span></div>
<div class="line">        <a class="code hl_struct" href="a02013.html">HF::SpatialStructures::PathMember</a>* path_data = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create a path.</span></div>
<div class="line">        status = <a class="code hl_function" href="a00390.html#ga3dc85450e989a996a3c3fcfad0a5944e">CreatePath</a>(graph, start_id, end_id, cost_type, &amp;path_size, &amp;path, &amp;path_data);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at CreatePath, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">if</span> (path) {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;CreatePath stored path successfully - path stored at address &quot;</span> &lt;&lt; path &lt;&lt; <span class="stringliteral">&quot;, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Get total path cost &amp; output the result.</span></div>
<div class="line">                <span class="keyword">auto</span> path_sum = 0.0f;</div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; member : path-&gt;<a class="code hl_variable" href="a02017.html#a864cebbf4e5d7c135c501a63d42f8708">members</a>) { path_sum += member.cost; }</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Total path cost: &quot;</span> &lt;&lt; path_sum &lt;&lt; std::endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="ttc" id="aa00390_html_ga3dc85450e989a996a3c3fcfad0a5944e"><div class="ttname"><a href="a00390.html#ga3dc85450e989a996a3c3fcfad0a5944e">CreatePath</a></div><div class="ttdeci">C_INTERFACE CreatePath(const HF::SpatialStructures::Graph *g, int start, int end, const char *cost_type, int *out_size, HF::SpatialStructures::Path **out_path, HF::SpatialStructures::PathMember **out_data)</div><div class="ttdoc">Find the shortest path from start to end.</div><div class="ttdef"><b>Definition:</b> <a href="a00356_source.html#l00023">pathfinder_C.cpp:23</a></div></div>
<div class="ttc" id="aa02013_html"><div class="ttname"><a href="a02013.html">HF::SpatialStructures::PathMember</a></div><div class="ttdoc">The ID of a node, and the cost cost to the node after it.</div><div class="ttdef"><b>Definition:</b> <a href="a00215_source.html#l00019">path.h:19</a></div></div>
<div class="ttc" id="aa02017_html"><div class="ttname"><a href="a02017.html">HF::SpatialStructures::Path</a></div><div class="ttdoc">A collection of nodes that form a path.</div><div class="ttdef"><b>Definition:</b> <a href="a00215_source.html#l00076">path.h:76</a></div></div>
<div class="ttc" id="aa02017_html_a864cebbf4e5d7c135c501a63d42f8708"><div class="ttname"><a href="a02017.html#a864cebbf4e5d7c135c501a63d42f8708">HF::SpatialStructures::Path::members</a></div><div class="ttdeci">std::vector&lt; PathMember &gt; members</div><div class="ttdoc">Ordered array of PathMembers that comprise the path.</div><div class="ttdef"><b>Definition:</b> <a href="a00215_source.html#l00078">path.h:78</a></div></div>
</div><!-- fragment --><p >From here, please review the examples on how to destroy a path (<a class="el" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a>),<br  />
 as well as how to destroy a vector&lt;<a class="el" href="a02005.html">HF::SpatialStructures::Node</a>&gt; (<a class="el" href="a00390.html#nodes_teardown">Destroy nodes from graph</a>),<br  />
 how to destroy a <a class="el" href="a01485.html">HF::SpatialStructures::Graph</a> (<a class="el" href="a00390.html#graph_teardown">Destroy graph</a>),<br  />
 how to destroy a <a class="el" href="a01345.html">HF::RayTracer::EmbreeRayTracer</a> (<a class="el" href="a00391.html#raytracer_teardown">Raytracer teardown</a>),<br  />
 and how to destroy a vector&lt;<a class="el" href="a01285.html">HF::Geometry::MeshInfo</a>&gt; (<a class="el" href="a00389.html#mesh_teardown">Mesh teardown</a>).</p>
<p ><code>&gt;&gt;&gt; LoadOBJ loaded mesh successfully into loaded_obj at address 000001DF01EB9470, code: 1</code><br  />
<code>&gt;&gt;&gt; CreateRaytracer created EmbreeRayTracer successfully into bvh at address 000001DF01EB5100, code: 1</code><br  />
<code>&gt;&gt;&gt; Generate graph ran successfully - graph stored at address 000001DF0BCEDDA0, code: 1</code><br  />
<code>&gt;&gt;&gt; Graph Generated with 886 nodes</code><br  />
<code>&gt;&gt;&gt; CreatePath stored path successfully - path stored at address 000001DF01EB9590, code: 1</code><br  />
<code>&gt;&gt;&gt; Total path cost: 77.6772</code><br  />
</p>

<p class="definition">Definition at line <a class="el" href="a00356_source.html#l00023">23</a> of file <a class="el" href="a00356_source.html">pathfinder_C.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00137_source.html#l00320">HF::Pathfinding::CreateBoostGraph()</a>, <a class="el" href="a00212_source.html#l00016">HF::SpatialStructures::Path::empty()</a>, <a class="el" href="a00137_source.html#l00166">HF::Pathfinding::FindPath()</a>, <a class="el" href="a00110_source.html#l00038">HF::Exceptions::GENERIC_ERROR</a>, <a class="el" href="a00212_source.html#l00056">HF::SpatialStructures::Path::GetPMPointer()</a>, <a class="el" href="a00110_source.html#l00050">HF::Exceptions::NO_COST</a>, <a class="el" href="a00110_source.html#l00049">HF::Exceptions::NO_PATH</a>, <a class="el" href="a00110_source.html#l00032">HF::Exceptions::OK</a>, and <a class="el" href="a00212_source.html#l00020">HF::SpatialStructures::Path::size()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00390_ga3dc85450e989a996a3c3fcfad0a5944e_cgraph.svg" width="778" height="283"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="gae1ac2805c3b86883bb88269ed3868367" name="gae1ac2805c3b86883bb88269ed3868367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1ac2805c3b86883bb88269ed3868367">&#9670;&#160;</a></span>CreatePaths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a> CreatePaths </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01485.html">HF::SpatialStructures::Graph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cost_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02017.html">HF::SpatialStructures::Path</a> **&#160;</td>
          <td class="paramname"><em>out_path_ptr_holder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02013.html">HF::SpatialStructures::PathMember</a> **&#160;</td>
          <td class="paramname"><em>out_path_member_ptr_holder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>out_sizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_paths</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="a00359.html">Cinterface/pathfinder_C.h</a>&gt;</code></p>

<p>Find multiple shortest paths in paralllel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>The graph to conduct the search on</td></tr>
    <tr><td class="paramname">start</td><td>An array of ids for starting nodes. Length must match that of end and all the IDS must belong to nodes that already exist within the graph.</td></tr>
    <tr><td class="paramname">end</td><td>An array of ids for ending nodes. Length must match that of start and all the IDS must belong to nodes that already exist within the graph.</td></tr>
    <tr><td class="paramname">cost_name</td><td>The name of the cost type to use for generating paths. Leaving as an empty string will use the default cost of <code>g</code>.</td></tr>
    <tr><td class="paramname">out_size</td><td>An empty array of integers that will be updated to contain the length of every path in <code>path_members</code>. Paths that could not be generated will be left with a length of zero.</td></tr>
    <tr><td class="paramname">out_path</td><td>Location for the the path pointer array to be created. Paths that could not be generated will be left as null pointers.</td></tr>
    <tr><td class="paramname">out_data</td><td>Location for the pathmember pointer array to be created. All path member pointers will point to the PathMembers of the Path in paths at the same index. Paths that could not be generated will be left as null pointers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>HF_STATUS::OK</code> if the function completes successfully </dd>
<dd>
<code>HF_STATUS::NO_COST</code> is <code>cost_name</code> is not a valid cost type name</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>1) The length of <code>start_ids</code>, <code>end_ids</code>, and <code>out_size</code> must be equal. </dd>
<dd>
2) If <code>cost_type</code> is specified, <code>cost_type</code> must be the the key of an already existing cost in <code>g</code></dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>1) <code>out_path_members</code> will point to a vector of pointers to vectors of PathMembers with an element for every path. paths that could not be generated will be set to null pointers. </dd>
<dd>
2) <code>out_paths</code> will point to a vector of pointers to paths with an element for every path. Paths that could not be generated will be set to null pointers. </dd>
<dd>
3) <code>out_sizes</code> will point to an array of integers containing the size of every path in <code>out_paths</code>. Paths that could not be generated will have a size of 0.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The caller is responsible for freeing all of the memory allocated in <code>out_paths</code> and <code>out_sizes</code>. The contents of <code>out_path_members</code> will automatically be deleted when the path they belong to is deleted. Do not try to manually delete <code>out_path_members</code> or the path that owns it will throw a null pointer exception when it is deleted.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00389.html#mesh_setup">Mesh setup</a> (how to load an .OBJ file/create a mesh) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_setup">Raytracer setup</a> (how to create a BVH) </dd>
<dd>
<a class="el" href="a00390.html#generate_graph">Graph generation</a> (how to generate a graph from a BVH) </dd>
<dd>
<a class="el" href="a00390.html#get_all_nodes">Get nodes from graph</a> (how to retrieve nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a> for information on deleting the path after usage. </dd>
<dd>
<a class="el" href="a00390.html#nodes_teardown">Destroy nodes from graph</a> (how to destroy nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#graph_teardown">Destroy graph</a> (how to destroy a graph) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_teardown">Raytracer teardown</a> (how to destroy a BVH) </dd>
<dd>
<a class="el" href="a00389.html#mesh_teardown">Mesh teardown</a> (how to destroy a mesh)</dd></dl>
<p>No cost type:<br  />
</p>
<div class="fragment"><div class="line">        <span class="comment">// Requires #include &quot;pathfinder_C.h&quot;, #include &quot;graph.h&quot;, #include &quot;path.h&quot;, #include &quot;path_finder.h&quot;</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// for brevity</span></div>
<div class="line">        <span class="keyword">using </span><a class="code hl_class" href="a01485.html">HF::SpatialStructures::Graph</a>;</div>
<div class="line">        <span class="keyword">using </span><a class="code hl_struct" href="a02017.html">HF::SpatialStructures::Path</a>;</div>
<div class="line">        <span class="keyword">using </span><a class="code hl_struct" href="a02013.html">HF::SpatialStructures::PathMember</a>;</div>
<div class="line"> </div>
<div class="line">        Graph g;</div>
<div class="line">        g.addEdge(0, 1, 1);</div>
<div class="line">        g.addEdge(0, 2, 2);</div>
<div class="line">        g.addEdge(1, 3, 3);</div>
<div class="line">        g.addEdge(2, 4, 1);</div>
<div class="line">        g.addEdge(3, 4, 5);</div>
<div class="line">        g.Compress();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Maximum amount of paths to search</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_PATHS = 2;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_PATHMEMBERS = 2;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create a Graph g, and compress it</span></div>
<div class="line">        <span class="keyword">auto</span> boostGraph = <a class="code hl_function" href="a00406.html#ae2106e09eb44d681fbc6c0f66a3d3ac4">HF::Pathfinding::CreateBoostGraph</a>(g);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// We want to find the shortest paths from 0 to 3, and 0 to 4.</span></div>
<div class="line">        std::array&lt;int, 2&gt; start_nodes{ 0, 0 };</div>
<div class="line">        std::array&lt;int, 2&gt; end_nodes{ 3, 4 };</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create arrays of pointers to Path. We have MAX_PATHS total paths to assess.</span></div>
<div class="line">        <span class="comment">// Create arrays of pointers to PathMember. The anticipated maximum amount of &quot;hops&quot; per path is MAX_PATHMEMBERS.</span></div>
<div class="line">        std::array&lt;Path*, MAX_PATHS&gt; out_path;</div>
<div class="line">        std::array&lt;PathMember*, MAX_PATHMEMBERS&gt; out_path_member;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Sizes of paths generated by CreatePaths. Sizes of 0 mean that a path was unable to be generated.</span></div>
<div class="line">        <span class="comment">// Should be the same as</span></div>
<div class="line">        std::array&lt;int, MAX_PATHS&gt; out_sizes;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Use CreatePaths</span></div>
<div class="line">        <a class="code hl_function" href="a00390.html#gae1ac2805c3b86883bb88269ed3868367">CreatePaths</a>(&amp;g, start_nodes.data(), end_nodes.data(), <span class="stringliteral">&quot;\0&quot;</span>, out_path.data(), out_path_member.data(), out_sizes.data(), MAX_PATHS);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Resource cleanup.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : out_path) {</div>
<div class="line">            <a class="code hl_function" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a>(p);</div>
<div class="line">            p = <span class="keyword">nullptr</span>;</div>
<div class="line">        }</div>
<div class="ttc" id="aa00390_html_gae1ac2805c3b86883bb88269ed3868367"><div class="ttname"><a href="a00390.html#gae1ac2805c3b86883bb88269ed3868367">CreatePaths</a></div><div class="ttdeci">C_INTERFACE CreatePaths(const HF::SpatialStructures::Graph *g, const int *start, const int *end, const char *cost_type, HF::SpatialStructures::Path **out_path_ptr_holder, HF::SpatialStructures::PathMember **out_path_member_ptr_holder, int *out_sizes, int num_paths)</div><div class="ttdoc">Find multiple shortest paths in paralllel.</div><div class="ttdef"><b>Definition:</b> <a href="a00356_source.html#l00070">pathfinder_C.cpp:70</a></div></div>
<div class="ttc" id="aa00406_html_ae2106e09eb44d681fbc6c0f66a3d3ac4"><div class="ttname"><a href="a00406.html#ae2106e09eb44d681fbc6c0f66a3d3ac4">HF::Pathfinding::CreateBoostGraph</a></div><div class="ttdeci">std::unique_ptr&lt; BoostGraph, BoostGraphDeleter &gt; CreateBoostGraph(const Graph &amp;g, const std::string &amp;cost_type)</div><div class="ttdoc">Create a new boost graph from a HF::SpatialStructures:Graph.</div><div class="ttdef"><b>Definition:</b> <a href="a00137_source.html#l00320">path_finder.cpp:320</a></div></div>
</div><!-- fragment --><p >With a cost type:<br  />
</p>
<div class="fragment"><div class="line">        <span class="comment">// Requires #include &quot;pathfinder_C.h&quot;, #include &quot;graph.h&quot;, #include &quot;path.h&quot;, #include &quot;path_finder.h&quot;</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// for brevity</span></div>
<div class="line">        <span class="keyword">using </span><a class="code hl_struct" href="a02005.html">HF::SpatialStructures::Node</a>;</div>
<div class="line">        <span class="keyword">using </span><a class="code hl_class" href="a01485.html">HF::SpatialStructures::Graph</a>;</div>
<div class="line">        <span class="keyword">using </span><a class="code hl_class" href="a01317.html">HF::Pathfinding::BoostGraph</a>;</div>
<div class="line">        <span class="keyword">using </span><a class="code hl_function" href="a00409.html#ac51f2e76c00356f8a6145bee865cd922">HF::SpatialStructures::CostAlgorithms::CalculateEnergyExpenditure</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create the nodes</span></div>
<div class="line">        Node node_0(1.0f, 1.0f, 2.0f);</div>
<div class="line">        Node node_1(2.0f, 3.0f, 4.0f);</div>
<div class="line">        Node node_2(11.0f, 22.0f, 14.0f);</div>
<div class="line">        Node node_3(62.9f, 39.1f, 18.0f);</div>
<div class="line">        Node node_4(99.5f, 47.1f, 29.9f);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create a graph. No nodes/edges for now.</span></div>
<div class="line">        Graph graph;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Add edges. These will have the default edge values, forming the default graph.</span></div>
<div class="line">        graph.addEdge(node_0, node_1, 1);</div>
<div class="line">        graph.addEdge(node_0, node_2, 2.5);</div>
<div class="line">        graph.addEdge(node_1, node_3, 54.0);</div>
<div class="line">        graph.addEdge(node_2, node_4, 39.0);</div>
<div class="line">        graph.addEdge(node_3, node_4, 1.2);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Always compress the graph after adding edges!</span></div>
<div class="line">        graph.Compress();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Retrieve a Subgraph, parent node ID 0 -- of alternate edge costs.</span></div>
<div class="line">        <span class="comment">// Add these alternate edges to graph.</span></div>
<div class="line">        std::string desired_cost_type = <a class="code hl_function" href="a00371.html#a047beaeb65d7842c75f024915219177e">AlgorithmCostTitle</a>(<a class="code hl_enumvalue" href="a00371.html#ac8fff1d29507d50c7848ea3fdbbbb0fca0ff5aa5181f1f5d5e6461b76852dd6b3">COST_ALG_KEY::CROSS_SLOPE</a>);</div>
<div class="line">        <span class="keyword">auto</span> edge_set = CalculateEnergyExpenditure(graph);</div>
<div class="line">        graph.AddEdges(edge_set, desired_cost_type);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Maximum amount of paths to search</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_PATHS = 2;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_PATHMEMBERS = 2;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create a Graph g, and compress it</span></div>
<div class="line">        <span class="keyword">auto</span> boostGraph = <a class="code hl_function" href="a00406.html#ae2106e09eb44d681fbc6c0f66a3d3ac4">HF::Pathfinding::CreateBoostGraph</a>(graph);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// We want to find the shortest paths from 0 to 3, and 0 to 4.</span></div>
<div class="line">        std::array&lt;int, 2&gt; start_nodes{ 0, 0 };</div>
<div class="line">        std::array&lt;int, 2&gt; end_nodes{ 3, 4 };</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create arrays of pointers to Path. We have MAX_PATHS total paths to assess.</span></div>
<div class="line">        <span class="comment">// Create arrays of pointers to PathMember. The anticipated maximum amount of &quot;hops&quot; per path is MAX_PATHMEMBERS.</span></div>
<div class="line">        std::array&lt;Path*, MAX_PATHS&gt; out_path;</div>
<div class="line">        std::array&lt;PathMember*, MAX_PATHMEMBERS&gt; out_path_member;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Sizes of paths generated by CreatePaths. Sizes of 0 mean that a path was unable to be generated.</span></div>
<div class="line">        <span class="comment">// Should be the same as</span></div>
<div class="line">        std::array&lt;int, MAX_PATHS&gt; out_sizes;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Use CreatePathsCostType, be sure to use the .c_str() method if using a std::string for desired_cost_type</span></div>
<div class="line">        <a class="code hl_function" href="a00390.html#gae1ac2805c3b86883bb88269ed3868367">CreatePaths</a>(&amp;graph, start_nodes.data(), end_nodes.data(), desired_cost_type.c_str(), out_path.data(), out_path_member.data(), out_sizes.data(), MAX_PATHS);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Use out_path, out_path_member</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Resource cleanup</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : out_path) {</div>
<div class="line">            <a class="code hl_function" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a>(p);</div>
<div class="line">            p = <span class="keyword">nullptr</span>;</div>
<div class="line">        }</div>
<div class="ttc" id="aa00371_html_a047beaeb65d7842c75f024915219177e"><div class="ttname"><a href="a00371.html#a047beaeb65d7842c75f024915219177e">AlgorithmCostTitle</a></div><div class="ttdeci">std::string AlgorithmCostTitle(COST_ALG_KEY key)</div><div class="ttdoc">Get the cost algorithm title (as std::string) from the COST_ALG_KEY enum member.</div><div class="ttdef"><b>Definition:</b> <a href="a00371_source.html#l00072">spatialstructures_C.h:72</a></div></div>
<div class="ttc" id="aa00371_html_ac8fff1d29507d50c7848ea3fdbbbb0fca0ff5aa5181f1f5d5e6461b76852dd6b3"><div class="ttname"><a href="a00371.html#ac8fff1d29507d50c7848ea3fdbbbb0fca0ff5aa5181f1f5d5e6461b76852dd6b3">CROSS_SLOPE</a></div><div class="ttdeci">@ CROSS_SLOPE</div><div class="ttdoc">Cost created by CalculateAndStoreCrossSlope.</div><div class="ttdef"><b>Definition:</b> <a href="a00371_source.html#l00041">spatialstructures_C.h:41</a></div></div>
<div class="ttc" id="aa00409_html_ac51f2e76c00356f8a6145bee865cd922"><div class="ttname"><a href="a00409.html#ac51f2e76c00356f8a6145bee865cd922">HF::SpatialStructures::CostAlgorithms::CalculateEnergyExpenditure</a></div><div class="ttdeci">EdgeSet CalculateEnergyExpenditure(const Subgraph &amp;sg)</div><div class="ttdef"><b>Definition:</b> <a href="a00188_source.html#l00096">cost_algorithms.cpp:96</a></div></div>
<div class="ttc" id="aa01317_html"><div class="ttname"><a href="a01317.html">HF::Pathfinding::BoostGraph</a></div><div class="ttdoc">A graph usable with the BoostGraphLibrary.</div><div class="ttdef"><b>Definition:</b> <a href="a00134_source.html#l00166">boost_graph.h:166</a></div></div>
</div><!-- fragment --><p ><code>&gt;&gt;&gt; TODO output</code><br  />
</p>

<p class="definition">Definition at line <a class="el" href="a00356_source.html#l00070">70</a> of file <a class="el" href="a00356_source.html">pathfinder_C.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00137_source.html#l00320">HF::Pathfinding::CreateBoostGraph()</a>, <a class="el" href="a00110_source.html#l00038">HF::Exceptions::GENERIC_ERROR</a>, <a class="el" href="a00137_source.html#l00201">HF::Pathfinding::InsertPathsIntoArray()</a>, <a class="el" href="a00110_source.html#l00050">HF::Exceptions::NO_COST</a>, and <a class="el" href="a00110_source.html#l00032">HF::Exceptions::OK</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00390_gae1ac2805c3b86883bb88269ed3868367_cgraph.svg" width="786" height="232"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga884a3374d971261a01ccfd3b21e288e5" name="ga884a3374d971261a01ccfd3b21e288e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga884a3374d971261a01ccfd3b21e288e5">&#9670;&#160;</a></span>DestroyPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a> DestroyPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a02017.html">HF::SpatialStructures::Path</a> *&#160;</td>
          <td class="paramname"><em>path_to_destroy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="a00359.html">Cinterface/pathfinder_C.h</a>&gt;</code></p>

<p>Delete a path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path_to_destroy</td><td>Pointer to the path to delete.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HF_STATUS::OK on return.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00389.html#mesh_setup">Mesh setup</a> (how to load an .OBJ file/create a mesh) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_setup">Raytracer setup</a> (how to create a BVH) </dd>
<dd>
<a class="el" href="a00390.html#generate_graph">Graph generation</a> (how to generate a graph from a BVH) </dd>
<dd>
<a class="el" href="a00390.html#get_all_nodes">Get nodes from graph</a> (how to retrieve nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a> for information on deleting the path after usage. </dd>
<dd>
<a class="el" href="a00390.html#nodes_teardown">Destroy nodes from graph</a> (how to destroy nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#graph_teardown">Destroy graph</a> (how to destroy a graph) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_teardown">Raytracer teardown</a> (how to destroy a BVH) </dd>
<dd>
<a class="el" href="a00389.html#mesh_teardown">Mesh teardown</a> (how to destroy a mesh)</dd></dl>
<div class="fragment"><div class="line">        <span class="comment">// Requires #include &quot;pathfinder_C.h&quot;, #include &quot;graph.h&quot;, #include &quot;path.h&quot;, #include &quot;path_finder.h&quot;</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create a Graph g, and compress it.</span></div>
<div class="line">        <a class="code hl_class" href="a01485.html">HF::SpatialStructures::Graph</a> g;</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(0, 1, 1);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(0, 2, 2);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(1, 3, 3);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(2, 4, 1);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(3, 4, 5);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a41cece77d0eee98df39ecc6d3a366ec8">Compress</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create a boostGraph from g</span></div>
<div class="line">        <span class="keyword">auto</span> boostGraph = <a class="code hl_function" href="a00406.html#ae2106e09eb44d681fbc6c0f66a3d3ac4">HF::Pathfinding::CreateBoostGraph</a>(g);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_struct" href="a02017.html">HF::SpatialStructures::Path</a>* out_path = <span class="keyword">nullptr</span>;</div>
<div class="line">        <a class="code hl_struct" href="a02013.html">HF::SpatialStructures::PathMember</a>* out_path_member = <span class="keyword">nullptr</span>;</div>
<div class="line">        <span class="keywordtype">int</span> out_size = -1;</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="a00390.html#ga3dc85450e989a996a3c3fcfad0a5944e">CreatePath</a>(&amp;g, 0, 4, <span class="stringliteral">&quot;\0&quot;</span>, &amp;out_size, &amp;out_path, &amp;out_path_member);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Use out_path, out_path_member</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Remember to free resources when finished</span></div>
<div class="line">        <a class="code hl_function" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a>(out_path);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// At this point, out_path_member has also been destroyed, so we set this to nullptr</span></div>
<div class="line">        out_path_member = <span class="keyword">nullptr</span>;</div>
</div><!-- fragment --><p ><code>&gt;&gt;&gt; TODO output</code><br  />
</p>

<p class="definition">Definition at line <a class="el" href="a00356_source.html#l00133">133</a> of file <a class="el" href="a00356_source.html">pathfinder_C.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00347_source.html#l00112">DeleteRawPtr()</a>, and <a class="el" href="a00110_source.html#l00032">HF::Exceptions::OK</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00390_ga884a3374d971261a01ccfd3b21e288e5_cgraph.svg" width="255" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="gaac725d282f4fecd3aba1b3273c26e7e1" name="gaac725d282f4fecd3aba1b3273c26e7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac725d282f4fecd3aba1b3273c26e7e1">&#9670;&#160;</a></span>GetPathInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00341.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a> GetPathInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a02017.html">HF::SpatialStructures::Path</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02013.html">PathMember</a> **&#160;</td>
          <td class="paramname"><em>out_member_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>out_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="a00359.html">Cinterface/pathfinder_C.h</a>&gt;</code></p>

<p>Get the size of a path and a pointer to its path members. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer to the path to get information from. This can handle null values. </td></tr>
    <tr><td class="paramname">out_member_ptr</td><td>Pointer to the path to get information from. Should not be null. </td></tr>
    <tr><td class="paramname">out_size</td><td>The number of path members in the path. (PathMember count within *p)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HF_STATUS::OK on success, HF_STATUS::NO_PATH if the path *p is invalid</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00389.html#mesh_setup">Mesh setup</a> (how to load an .OBJ file/create a mesh) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_setup">Raytracer setup</a> (how to create a BVH) </dd>
<dd>
<a class="el" href="a00390.html#generate_graph">Graph generation</a> (how to generate a graph from a BVH) </dd>
<dd>
<a class="el" href="a00390.html#get_all_nodes">Get nodes from graph</a> (how to retrieve nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a> for information on deleting the path after usage. </dd>
<dd>
<a class="el" href="a00390.html#nodes_teardown">Destroy nodes from graph</a> (how to destroy nodes from a graph) </dd>
<dd>
<a class="el" href="a00390.html#graph_teardown">Destroy graph</a> (how to destroy a graph) </dd>
<dd>
<a class="el" href="a00391.html#raytracer_teardown">Raytracer teardown</a> (how to destroy a BVH) </dd>
<dd>
<a class="el" href="a00389.html#mesh_teardown">Mesh teardown</a> (how to destroy a mesh)</dd></dl>
<div class="fragment"><div class="line">        <span class="comment">// Requires #include &quot;pathfinder_C.h&quot;, #include &quot;graph.h&quot;, #include &quot;path.h&quot;, #include &quot;path_finder.h&quot;</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create a Graph g, and compress it.</span></div>
<div class="line">        <a class="code hl_class" href="a01485.html">HF::SpatialStructures::Graph</a> g;</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(0, 1, 1);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(0, 2, 2);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(1, 3, 3);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(2, 4, 1);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a37be5c12e488072dea7fa1c8c64346f7">addEdge</a>(3, 4, 5);</div>
<div class="line">        g.<a class="code hl_function" href="a01485.html#a41cece77d0eee98df39ecc6d3a366ec8">Compress</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Create a boostGraph from g</span></div>
<div class="line">        <span class="keyword">auto</span> boostGraph = <a class="code hl_function" href="a00406.html#ae2106e09eb44d681fbc6c0f66a3d3ac4">HF::Pathfinding::CreateBoostGraph</a>(g);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_struct" href="a02017.html">HF::SpatialStructures::Path</a>* out_path = <span class="keyword">nullptr</span>;</div>
<div class="line">        <a class="code hl_struct" href="a02013.html">HF::SpatialStructures::PathMember</a>* out_path_member = <span class="keyword">nullptr</span>;</div>
<div class="line">        <span class="keywordtype">int</span> out_size = -1;</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="a00390.html#ga3dc85450e989a996a3c3fcfad0a5944e">CreatePath</a>(&amp;g, 0, 4, <span class="stringliteral">&quot;\0&quot;</span>, &amp;out_size, &amp;out_path, &amp;out_path_member);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Get out_path&#39;s info, store results in out_path_member and out_size</span></div>
<div class="line">        <a class="code hl_function" href="a00390.html#gaac725d282f4fecd3aba1b3273c26e7e1">GetPathInfo</a>(out_path, &amp;out_path_member, &amp;out_size);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Remember to free resources when finished</span></div>
<div class="line">        <a class="code hl_function" href="a00390.html#ga884a3374d971261a01ccfd3b21e288e5">DestroyPath</a>(out_path);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// At this point, out_path_member has also been destroyed, so we set this to nullptr</span></div>
<div class="line">        out_path_member = <span class="keyword">nullptr</span>;</div>
<div class="ttc" id="aa00390_html_gaac725d282f4fecd3aba1b3273c26e7e1"><div class="ttname"><a href="a00390.html#gaac725d282f4fecd3aba1b3273c26e7e1">GetPathInfo</a></div><div class="ttdeci">C_INTERFACE GetPathInfo(HF::SpatialStructures::Path *p, PathMember **out_member_ptr, int *out_size)</div><div class="ttdoc">Get the size of a path</div><div class="ttdef"><b>Definition:</b> <a href="a00356_source.html#l00115">pathfinder_C.cpp:115</a></div></div>
</div><!-- fragment --><p ><code>&gt;&gt;&gt; TODO output</code><br  />
 Get the size of a path and a pointer to its path members. </p>

<p class="definition">Definition at line <a class="el" href="a00356_source.html#l00115">115</a> of file <a class="el" href="a00356_source.html">pathfinder_C.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00212_source.html#l00056">HF::SpatialStructures::Path::GetPMPointer()</a>, <a class="el" href="a00110_source.html#l00049">HF::Exceptions::NO_PATH</a>, <a class="el" href="a00110_source.html#l00032">HF::Exceptions::OK</a>, and <a class="el" href="a00212_source.html#l00020">HF::SpatialStructures::Path::size()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00390_gaac725d282f4fecd3aba1b3273c26e7e1_cgraph.svg" width="296" height="115"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
